{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/亿方云同步/personal_space/repository/MyProject-AttendanceMiniprogram-2.0/attendance-uniapp/pages/rank/rank.vue?b509","webpack:///D:/亿方云同步/personal_space/repository/MyProject-AttendanceMiniprogram-2.0/attendance-uniapp/pages/rank/rank.vue?3681","webpack:///D:/亿方云同步/personal_space/repository/MyProject-AttendanceMiniprogram-2.0/attendance-uniapp/pages/rank/rank.vue?d956","uni-app:///pages/rank/rank.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACsL;AACtL,gBAAgB,uLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,6MAEN;AACL,GAAG;AACH;AACA,WAAW,+NAEN;AACL,GAAG;AACH;AACA,WAAW,mNAEN;AACL,GAAG;AACH;AACA,WAAW,mNAEN;AACL,GAAG;AACH;AACA,WAAW,2OAEN;AACL,GAAG;AACH;AACA,WAAW,2OAEN;AACL,GAAG;AACH;AACA,WAAW,qOAEN;AACL,GAAG;AACH;AACA,WAAW,uMAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAgsB,CAAgB,gqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwFptB;AACA,MADA,kBACA;AACA;AACA,kBADA;AAEA,sBAFA;AAGA,oBAHA;AAIA;AACA,wBALA;AAMA,4BANA;AAOA,mBAPA;AAQA,mBARA;AASA,0BATA;AAUA;AACA,kBADA;AAEA;AACA,kBADA,EAFA,CAVA;;;AAgBA,GAlBA;AAmBA,cAnBA,wBAmBA,CAnBA,EAmBA;AACA;AACA,GArBA;AAsBA,QAtBA,oBAsBA;AACA;AACA,2BADA;AAEA,iDAFA;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,GAnCA;;AAqCA;AACA;AACA,uBADA;AAEA,8BAFA;;;AAKA,GA3CA;;AA6CA;AACA;AACA,uBADA;AAEA,8GAFA;;AAIA,GAlDA;;AAoDA;AACA,cADA,sBACA,KADA,EACA;AACA;AACA;AACA;AACA,KALA;AAMA;AACA,aAPA,qBAOA,KAPA,EAOA,IAPA,EAOA,QAPA,EAOA;AACA;AACA,oBADA;AAEA,kBAFA;AAGA,0BAHA;AAIA,sBAJA;;AAMA,KAdA;AAeA,WAfA,qBAeA;AACA;AACA,uBADA;;AAGA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AACA,qEADA;AAEA;AACA,4BADA,EAFA;;AAKA,eALA,mBAKA,GALA,EAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA,WAFA,EAEA,GAFA;;AAIA,SAvBA;;;AA0BA,KArDA,EApDA,E","file":"pages/rank/rank.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/rank/rank.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./rank.vue?vue&type=template&id=16e4b086&\"\nvar renderjs\nimport script from \"./rank.vue?vue&type=script&lang=js&\"\nexport * from \"./rank.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/rank/rank.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rank.vue?vue&type=template&id=16e4b086&\"","var components = {\n  uToast: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n    )\n  },\n  uBackTop: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-back-top/u-back-top\" */ \"@/uview-ui/components/u-back-top/u-back-top.vue\"\n    )\n  },\n  uSticky: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-sticky/u-sticky\" */ \"@/uview-ui/components/u-sticky/u-sticky.vue\"\n    )\n  },\n  uButton: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n    )\n  },\n  uSubsection: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-subsection/u-subsection\" */ \"@/uview-ui/components/u-subsection/u-subsection.vue\"\n    )\n  },\n  uCellGroup: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-cell-group/u-cell-group\" */ \"@/uview-ui/components/u-cell-group/u-cell-group.vue\"\n    )\n  },\n  uCellItem: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-cell-item/u-cell-item\" */ \"@/uview-ui/components/u-cell-item/u-cell-item.vue\"\n    )\n  },\n  uIcon: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.durationList, function(item, index) {\n    var f0 = _vm._f(\"dataFormat\")(item.allDuration, \"duration\")\n\n    return {\n      $orig: _vm.__get_orig(item),\n      f0: f0\n    }\n  })\n\n  var l1 = _vm.__map(_vm.durationList, function(item, index) {\n    var f1 = _vm._f(\"dataFormat\")(item.allDuration, \"duration\")\n\n    return {\n      $orig: _vm.__get_orig(item),\n      f1: f1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rank.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- toast提示 -->\r\n\t\t<u-toast ref=\"uToast\" />\r\n\r\n\t\t<u-back-top :scroll-top=\"scrollTop\" mode=\"square\" top=\"0\" bottom=\"20\"></u-back-top>\r\n\r\n\t\t<u-sticky offset-top=\"100\" z-index=\"-1\">\r\n\t\t\t<view class=\"bg-img bg-mask flex align-center shadow-blur\" :style=\"{backgroundImage:'url(http://mp-images.test.upcdn.net/rank'+currentTab+'.jpeg)'}\"\r\n\t\t\t style=\"height: 400upx;\">\r\n\t\t\t\t<view class=\" text-white\" style=\"padding-top: 100rpx;\">\r\n\t\t\t\t\t<view class=\" margin-left-lg flex align-center\">\r\n\t\t\t\t\t\t<view class=\"cu-avatar radius shadow\" :style=\"{backgroundImage:'url('+topUser.avatarUrl+')'}\"></view>\r\n\t\t\t\t\t\t<view class=\" text-xxl text-bold\">\r\n\t\t\t\t\t\t\t{{topUser.nickName}}目前占领了{{currentTab == 0?'本周':'本月'}}的封面\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"padding-sm padding-top-lg text-lg\">\r\n\t\t\t\t\t\t<u-button type=\"primary\" :ripple=\"true\" size=\"medium\" :plain=\"true\" class=\"padding-left-sm\">{{topUser_allDur}}</u-button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t<!-- \t\t<view class=\"cu-bar justify-center bg-white\">\r\n\t\t\t<view class=\"action border-title\">\r\n\t\t\t\t<text class=\"text-df text-bold text-blue\">更新于{{moment().locale('zh-cn').format('YYYY-MM-DD HH:mm:ss')}}</text>\r\n\t\t\t\t<text class=\"bg-gradual-blue\" style=\"width:8rem\"></text>\r\n\t\t\t</view>\r\n\t\t</view> -->\r\n\r\n\t\t\t<!-- \t\t<u-cell-group>\r\n\t\t\t\t<u-cell-item  :title=\"'更新于'+moment().locale('zh-cn').format('YYYY-MM-DD HH:mm:ss')\"  :arrow=\"false\">\r\n\t\t\t\t\t<u-icon slot=\"icon\" size=\"33\" name=\"clock\"  ></u-icon>\r\n\t\t\t\t</u-cell-item>\r\n\t\t\t</u-cell-group> -->\r\n\r\n\t\t\t<u-subsection :bold=\"true\" :list=\"tabsList\" :current=\"currentTab\" @change=\"tabsChange\" button-color=\"#0081ff\"\r\n\t\t\t active-color=\"white\"></u-subsection>\r\n\r\n\t\t</u-sticky>\r\n\r\n\t\t<!-- 实名判定 -->\r\n\r\n\t\t<u-cell-group class=\"margin-top shadow-lg\">\r\n\t\t\t<navigator url=\"../profile/profile\" open-type=\"switchTab\" v-if=\"!userInfo\">\r\n\t\t\t\t<u-cell-item :arrow=\"true\" title=\"您还未实名手机绑定,无法查看自己排行榜\">\r\n\t\t\t\t\t<u-icon slot=\"icon\" size=\"38\" name=\"warning\" color=\"#ff9900\" class=\"padding-right-sm\"></u-icon>\r\n\t\t\t\t</u-cell-item>\r\n\t\t\t</navigator>\r\n\r\n\t\t\t<block v-else>\r\n\t\t\t\t<u-cell-item :arrow=\"false\" v-for=\"(item,index) in durationList\" :key=\"index\" bg-color=\"#00152a\" v-if=\"item.uid == userInfo.uid\">\r\n\t\t\t\t\t<view slot=\"title\" class=\"text-white text-bold text-lg padding-top-xs\">我的({{item.realName}})</view>\r\n\t\t\t\t\t<view slot=\"icon\" class=\"cu-avatar radius shadow-blur\" :style=\"{backgroundImage:'url('+item.avatarUrl+')'}\"></view>\r\n\t\t\t\t\t<view slot=\"right-icon\" class=\"text-white text-bold text-lg\">{{item.allDuration | dataFormat(\"duration\")}}</view>\r\n\t\t\t\t</u-cell-item>\r\n\t\t\t</block>\r\n\t\t</u-cell-group>\r\n\r\n\r\n\r\n\r\n\t\t<!-- <view class=\"cu-list card-menu margin-top shadow-warp\" > -->\r\n\t\t<u-cell-group class=\"margin-top shadow-lg\">\r\n\r\n\t\t\t<u-cell-item :arrow=\"false\" v-for=\"(item,index) in durationList\" :key=\"index\">\r\n\t\t\t\t<view slot=\"title\" class=\"text-black text-bold text-lg padding-top-xs\">{{item.realName}}({{item.nickName}})</view>\r\n\t\t\t\t<view slot=\"icon\" class=\"cu-avatar radius shadow-blur\" :style=\"{backgroundImage:'url('+item.avatarUrl+')'}\">\r\n\t\t\t\t\t<view class=\"cu-tag badge lg\">{{index+1}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view slot=\"right-icon\" class=\"text-black text-bold text-lg\">{{item.allDuration | dataFormat(\"duration\")}}</view>\r\n\t\t\t</u-cell-item>\r\n\r\n\t\t</u-cell-group>\r\n\r\n\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\twxuserInfo: null,\r\n\t\t\t\tuserInfo: null,\r\n\t\t\t\t// rank数据\r\n\t\t\t\tdurationList: null,\r\n\t\t\t\troomDurationList: null,\r\n\t\t\t\tcurrentTab: 0,\r\n\t\t\t\ttopUser: null,\r\n\t\t\t\ttopUser_allDur: null,\r\n\t\t\t\ttabsList: [{\r\n\t\t\t\t\tname: '本周'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: '本月'\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPageScroll(e) {\r\n\t\t\tthis.scrollTop = e.scrollTop;\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tuni.showShareMenu({\r\n\t\t\t\twithShareTicket: true,\r\n\t\t\t\tmenus: ['shareAppMessage', 'shareTimeline']\r\n\t\t\t})\r\n\r\n\r\n\t\t\tvar that = this\r\n\t\t\tthat.wxuserInfo = uni.getStorageSync(\"wxuserInfo\")\r\n\t\t\tglobal.getUserInfo()\r\n\t\t\tthat.userInfo = uni.getStorageSync(\"userInfo\")\r\n\t\t\tconsole.log(\"rank里的userInfo\" + that.userInfo)\r\n\t\t\tthat.getRank()\r\n\t\t},\r\n\r\n\t\tonShareAppMessage: function() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: \"查看实验室活跃度\",\r\n\t\t\t\tpath: '/pages/rank/rank'\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tonShareTimeline: function() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: \"查看实验室活跃度\",\r\n\t\t\t\timageUrl: \"https://mp.weixin.qq.com/wxopen/qrcode?action=show&type=2&fakeid=3828130167&token=1611511643\"\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\ttabsChange(index) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tthat.currentTab = index\r\n\t\t\t\tthat.getRank()\r\n\t\t\t},\r\n\t\t\t// toast提示\r\n\t\t\tshowToast(title, type, position) {\r\n\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tposition: position,\r\n\t\t\t\t\tduration: 2500\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetRank() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"获取活跃度中\"\r\n\t\t\t\t})\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar duration\r\n\t\t\t\tif (that.currentTab == 0) {\r\n\t\t\t\t\tduration = 1\r\n\t\t\t\t} else {\r\n\t\t\t\t\tduration = 2\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: \"https://api.attendance.lifeisgg.online/MP/rank/getRank\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tduration: duration\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tthat.durationList = res.data.durationList\r\n\t\t\t\t\t\tthat.roomDurationList = res.data.roomDurationList\r\n\t\t\t\t\t\tthat.topUser = that.durationList[0]\r\n\r\n\t\t\t\t\t\tvar h = Math.floor(that.topUser.allDuration / 1000 / 60 / 60);\r\n\t\t\t\t\t\tvar m = Math.floor(that.topUser.allDuration / 1000 / 60 % 60);\r\n\t\t\t\t\t\tthat.topUser_allDur = h + \"时\" + m + \"分\"\r\n\t\t\t\t\t\tif (duration == 1) {\r\n\t\t\t\t\t\t\tthat.showToast(\"获取本周排行榜成功\", \"success\", \"bottom\")\r\n\t\t\t\t\t\t} else if (duration == 2) {\r\n\t\t\t\t\t\t\tthat.showToast(\"获取本月排行榜成功\", \"success\", \"bottom\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t}, 500);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}