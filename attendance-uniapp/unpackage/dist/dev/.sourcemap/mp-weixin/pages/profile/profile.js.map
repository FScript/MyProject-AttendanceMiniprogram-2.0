{"version":3,"sources":["uni-app:///main.js","webpack:///D:/亿方云同步/personal_space/repository/MyProject-AttendanceMiniprogram-2.0/attendance-uniapp/pages/profile/profile.vue?0bbf","webpack:///D:/亿方云同步/personal_space/repository/MyProject-AttendanceMiniprogram-2.0/attendance-uniapp/pages/profile/profile.vue?1534","webpack:///D:/亿方云同步/personal_space/repository/MyProject-AttendanceMiniprogram-2.0/attendance-uniapp/pages/profile/profile.vue?aa1f","webpack:///D:/亿方云同步/personal_space/repository/MyProject-AttendanceMiniprogram-2.0/attendance-uniapp/pages/profile/profile.vue?c172","uni-app:///pages/profile/profile.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,mG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;;;AAGtD;AACsL;AACtL,gBAAgB,uLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,6MAEN;AACL,GAAG;AACH;AACA,WAAW,mNAEN;AACL,GAAG;AACH;AACA,WAAW,uMAEN;AACL,GAAG;AACH;AACA,WAAW,2OAEN;AACL,GAAG;AACH;AACA,WAAW,6MAEN;AACL,GAAG;AACH;AACA,WAAW,qRAEN;AACL,GAAG;AACH;AACA,WAAW,qOAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAAmsB,CAAgB,mqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsOvtB,2E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA,aADA,EAEA,UAFA,EAGA,eAHA,EAIA,2BAJA,EAKA;AACA,sBANA,EAOA,cAPA,EAQA;AACA,uBATA,EAUA;AACA,0BAXA,EAYA;AACA,oBAbA,EAcA,cAdA,EAeA,UAfA,EAgBA,iBAhBA,EAiBA,eAjBA,EAkBA,mBAlBA,EAmBA,gBAnBA,EAoBA,mBApBA,GAsBA,CAxBA,EAyBA,MAzBA,oBAyBA,CACA,gBACA,wBACA,mDACA,qBACA,+CACA,6CANA,CASA;AACA,iCACA,CApCA,EAqCA,iDACA,SACA,WADA,EAEA,8BAFA,GAKA,CA3CA,EA6CA,WACA;AACA,YAFA,sBAEA,CAEA,mBACA,4CADA,EAEA,gCACA,sBACA,CAJA,IAOA,CAXA,EAYA;AACA,WAbA,qBAaA,CACA,gBACA,4BACA,8CACA,aACA,CACA,gBACA,gBACA,yBADA,EAEA,gCACA,kBACA,cACA,qEADA,EAEA,QACA,sBADA,EAFA,EAKA,OALA,mBAKA,GALA,EAKA,CAEA,wBACA,8CACA,iDACA,CAVA,IAYA,CACA,CAjBA,IAoBA,CAxCA,EAyCA;AACA,WA1CA,mBA0CA,CA1CA,EA0CA,CACA,UACA,gBACA,cACA,UADA,EAEA,YAFA,EAGA,OAHA,mBAGA,GAHA,EAGA,CACA,+BACA,CALA,IAOA,CApDA,EAsDA;AACA,aAvDA,qBAuDA,KAvDA,EAuDA,IAvDA,EAuDA,QAvDA,EAuDA,CACA,yBACA,YADA,EAEA,UAFA,EAGA,kBAHA,EAIA,cAJA,IAMA,CA9DA,EAiEA;AACA,aAlEA,qBAkEA,CAlEA,EAkEA,CACA,gDACA,CApEA,EAqEA,SArEA,qBAqEA,CArEA,EAqEA,CACA,sBACA,CAvEA,EA2EA,WA3EA,CA4EA;AACA,gDACA,gBACA,qBACA,4CACA,aACA,CACA,iCACA,iBACA,sCACA,sBACA,iCAVA,CAYA;AACA,8BACA,aADA,EAEA,QAFA,EAGA,gCACA,iBACA,8DACA,2CAHA,CAKA;AAEA,iEACA,cACA,6DADA,EAEA,QACA,kCADA,EAEA,8BAFA,EAGA,oCAHA,EAIA,aAJA,EAFA,EAQA,OARA,mBAQA,GARA,EAQA,CACA,iBACA,8CACA,sDACA,kEACA,kCAEA,kDACA,8CACA,kCACA,8CACA,8BAEA,CArBA,IAyBA,CApCA,EAqCA,0BACA,yCACA,6CACA,aACA,CAzCA,IA6CA,CAvIA,EAwIA;AACA,aAzIA,uBAyIA,CACA,gBACA,gBACA,eADA,EAEA,gCACA,kBACA,4CACA,uBACA,qBACA,uCACA,qCACA,CACA,CAVA,IAYA,CAvJA,EAyJA;AACA,yBA1JA,mCA0JA,CACA,gBACA,qBACA,gCACA,uBACA,gCACA,8CACA,0CACA,CANA,IAQA,CApKA,EAqKA;AACA,gBAtKA,0BAsKA,CACA,gBACA,gBACA,qBADA,EAEA,gCACA,kBACA,uBACA,mBACA,kCACA,CACA,CARA,IAUA,CAlLA,EAoLA,YApLA,CAqLA;AACA,sBAtLA,8BAsLA,KAtLA,EAsLA,IAtLA,EAsLA,QAtLA,EAsLA,CACA,kCACA,YADA,EAEA,UAFA,EAGA,kBAHA,EAIA,cAJA,IAMA,CA7LA,EA8LA,UA9LA,wBA8LA,CACA,gBACA,wBACA,cACA,mEADA,EAEA,QACA,sBADA,EAFA,EAKA,OALA,mBAKA,GALA,EAKA,CACA,iBACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA;;AAEA,SAjBA;;AAmBA,KApNA;AAqNA;AACA,cAtNA,sBAsNA,IAtNA,EAsNA;AACA;AACA,KAxNA;AAyNA,WAzNA,qBAyNA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA;AACA,0BADA;AAEA,iCAFA,EAFA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aALA,EAKA,IALA;AAMA,WAdA;AAeA;AACA;AACA,WAjBA;;AAmBA,OAnCA,MAmCA;AACA;AACA;AACA,KAlQA;;AAoQA,kBApQA,4BAoQA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4EADA;AAEA;AACA,wCADA;AAEA,gCAFA;AAGA,sCAHA,EAFA;;AAOA,eAPA,mBAOA,GAPA,EAOA;AACA;AACA;AACA;AACA;AACA;AACA,SAbA;;AAeA,KAnSA;;AAqSA;AACA;AACA,iBAvSA,yBAuSA,CAvSA,EAuSA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KA/SA;AAgTA,aAhTA,uBAgTA;AACA;AACA;AACA;AACA;AACA,uDADA,CADA;;AAIA,iBAJA,mBAIA,GAJA,EAIA;AACA;AACA,WANA;AAOA,cAPA,gBAOA,GAPA,EAOA;AACA;AACA,WATA;;AAWA;AACA,KA/TA;AAgUA;AACA;AACA;AACA;AACA,qDADA,CADA;;AAIA,eAJA,mBAIA,GAJA,EAIA;AACA;AACA;AACA,SAPA;AAQA,YARA,gBAQA,GARA,EAQA;AACA;AACA,SAVA;;AAYA,KA9UA,EA7CA,E","file":"pages/profile/profile.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/profile/profile.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./profile.vue?vue&type=template&id=60cb334c&\"\nvar renderjs\nimport script from \"./profile.vue?vue&type=script&lang=js&\"\nexport * from \"./profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/profile/profile.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=template&id=60cb334c&\"","var components = {\n  uToast: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n    )\n  },\n  uButton: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n    )\n  },\n  uIcon: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n    )\n  },\n  uCellGroup: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-cell-group/u-cell-group\" */ \"@/uview-ui/components/u-cell-group/u-cell-group.vue\"\n    )\n  },\n  uField: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-field/u-field\" */ \"@/uview-ui/components/u-field/u-field.vue\"\n    )\n  },\n  uVerificationCode: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-verification-code/u-verification-code\" */ \"@/uview-ui/components/u-verification-code/u-verification-code.vue\"\n    )\n  },\n  uCellItem: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-cell-item/u-cell-item\" */ \"@/uview-ui/components/u-cell-item/u-cell-item.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"dataFormat\")(_vm.wxuserInfo.regDate)\n\n  var f1 = _vm._f(\"dataFormat\")(_vm.wxuserInfo.lastLoginDate)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- toast提示 -->\r\n\t\t<u-toast ref=\"uToast\" />\r\n\r\n\t\t<!-- 当wxuserInfo不存在时 -->\r\n\t\t<view class=\"cu-modal show\" v-if=\"!wxuserInfo\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<u-button type=\"success\" :loading=\"getWxUserInfoLoading\" open-type=\"getUserInfo\" @getuserinfo=\"getWxUserInfo\"\r\n\t\t\t\t :ripple=\"true\">\r\n\t\t\t\t\t<u-icon name=\"weixin-fill\" size=\"40\" style=\"margin-right:10rpx ;\"></u-icon>微信一键登录\r\n\t\t\t\t</u-button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<!-- 当wxuserInfo存在时 -->\r\n\t\t<view v-else>\r\n\t\t\t<!-- profile上方 -->\r\n\t\t\t<view class=\"bg-img bg-mask flex align-end shadow-blur\" style=\"background-image: url('http://mp-images.test.upcdn.net/profile.jpg');height: 400upx;\">\r\n\t\t\t\t<view class=\"bg-shadeCenter padding  flex  align-start\">\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<!-- {{userInfo.avatarUrl}} -->\r\n\t\t\t\t\t<view class=\"cu-avatar xl radius shadow\" :style=\"{backgroundImage:'url('+wxuserInfo.avatarUrl+')'}\">\r\n\t\t\t\t\t\t<view class=\"cu-tag badge\" :class=\"wxuserInfo.gender==1?'cuIcon-male bg-blue':'cuIcon-female bg-pink'\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\r\n\t\t\t\t\t<view class=\"grid col-1\">\r\n\t\t\t\t\t\t<view class=\" padding-left-sm radius text-bold text-white text-xl\">{{wxuserInfo.nickName}}</view>\r\n\t\t\t\t\t\t<view class=\"cu-capsule radius padding-sm padding-top-lg\">\r\n\t\t\t\t\t\t\t<view class=\"cu-tag bg-blue xl\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-people \"></text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"cu-tag line-white xl \">\r\n\t\t\t\t\t\t\t\t{{userInfo.level == 1?'超级管理员':'普通用户'}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\r\n\r\n\t\t\t<!-- 小菜单1 -->\r\n\t\t\t<view class=\"cu-list menu card-menu margin-top sm-border shadow-warp\">\r\n\r\n\t\t\t\t<!-- 实名认证 -->\r\n\t\t\t\t<view class=\"cu-item arrow padding \" @tap=\"showModal\" data-target=\"boundModal\">\r\n\t\t\t\t\t<view class=\"content \">\r\n\t\t\t\t\t\t<text class=\"cuIcon-people text-cyan \"></text>\r\n\t\t\t\t\t\t<text class=\"text-grey  \">实名认证</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t<view class=\"cu-tag round bg-blue\" v-if=\"userInfo\">已认证</view>\r\n\t\t\t\t\t\t<view class=\"cu-tag round bg-red\" v-else>点击认证</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 接收消息 -->\r\n\t\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-notice text-green\"></text>\r\n\t\t\t\t\t\t<text class=\"text-grey\">接收消息</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t<switch class='green radius' @click=\"wakeUpMsg\" @change=\"SwitchSendMsg\" :class=\"wxuserInfo.sendMsg?'checked':''\"\r\n\t\t\t\t\t\t :checked=\"wxuserInfo.sendMsg?true:false\"></switch>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 人工服务 -->\r\n\t\t\t\t<view class=\"cu-item arrow\">\r\n\t\t\t\t\t<button class=\"cu-btn content\" open-type=\"contact\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-service text-orange text-xl\"></text>\r\n\t\t\t\t\t\t<text class=\"text-gray\">联系我们</text>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 实名绑定 -->\r\n\t\t\t<view class=\"cu-modal\" :class=\"modalName=='boundModal'?'show':''\">\r\n\t\t\t\t<!-- 未绑定 -->\r\n\t\t\t\t<view class=\"cu-dialog\"   v-if=\"!userInfo\">\r\n\t\t\t\t\t<u-toast ref=\"uToast_realName\" />\r\n\t\t\t\t\t<!-- 提示框 -->\r\n\t\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t\t<view class=\"content\">实名注册</view>\r\n\t\t\t\t\t\t<view class=\"action\" @tap=\"hideModal\">\r\n\t\t\t\t\t\t\t<text class=\"cuIcon-roundclose text-red text-sl\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t<u-cell-group>\r\n\t\t\t\t\t\t\t<!-- <u-keyboard ref=\"uKeyboard\" mask=\"false\" mode=\"number\" v-model=\"keyboard\"></u-keyboard> -->\r\n\t\t\t\t\t\t\t<u-field v-model=\"form_realName\" label=\"姓名\" icon=\"account\" icon-color=\"green\" placeholder=\"真实姓名\" name=\"form_realName\">\r\n\t\t\t\t\t\t\t</u-field>\r\n\t\t\t\t\t\t\t<!-- <u-field v-model=\"form_password\" label=\"密码\" icon=\"lock\" icon-color=\"red\" placeholder=\"填写注册密码\" name=\"form_realName\">\r\n\t\t\t\t\t\t\t</u-field> -->\r\n\t\t\t\t\t\t\t<u-field v-model=\"form_phone\" label=\"手机号\" icon=\"phone\" icon-color=\"blue\" placeholder=\"国内请填写11位手机号\" @blur=\"checkPhone\"\r\n\t\t\t\t\t\t\t :error-message=\"phoneErrorMsg\" name=\"form_phone\">\r\n\t\t\t\t\t\t\t</u-field>\r\n\r\n\t\t\t\t\t\t\t<u-field v-model=\"form_code\" label=\"验证码\" icon=\"attach\" icon-color=\"orange\" placeholder=\"请填写六位验证码\" name=\"code\">\r\n\t\t\t\t\t\t\t\t<u-button size=\"mini\" slot=\"right\" type=\"primary\" @click=\"getCode\">{{codeText}}</u-button>\r\n\t\t\t\t\t\t\t</u-field>\r\n\t\t\t\t\t\t\t<u-verification-code ref=\"uCode\" @change=\"codeChange\"></u-verification-code>\r\n\r\n\t\t\t\t\t\t\t<u-button @click=\"realNameSubmit\" type=\"success\" plain :ripple=\"true\" style=\"padding-top: 5rpx;\">立即认证</u-button>\r\n\t\t\t\t\t\t</u-cell-group>\r\n\r\n\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 实名认证已绑定 -->\r\n\t\t\t\t<view class=\"cu-dialog \"  v-else>\r\n\t\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t\t<view class=\"content\">实名认证</view>\r\n\t\t\t\t\t\t<view class=\"action\" @tap=\"hideModal\">\r\n\t\t\t\t\t\t\t<text class=\"cuIcon-roundclose text-red text-sl\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-cell-group>\r\n\t\t\t\t\t\t<u-cell-item :arrow=\"false\" :center=\"true\" title=\"uid\" :value=\"userInfo.uid\">\r\n\t\t\t\t\t\t\t<view slot=\"icon\" class=\"cuIcon-title padding-right-sm text-green\"></view>\r\n\t\t\t\t\t\t</u-cell-item>\r\n\t\t\t\t\t\t<u-cell-item :arrow=\"false\" :center=\"true\" title=\"姓名\" :value=\"userInfo.realName\">\r\n\t\t\t\t\t\t\t<view slot=\"icon\" class=\"cuIcon-profile padding-right-sm text-blue\"></view>\r\n\t\t\t\t\t\t</u-cell-item>\r\n\t\t\t\t\t\t<u-cell-item :arrow=\"false\" :center=\"true\" title=\"手机\" :value=\"userInfo.phone\">\r\n\t\t\t\t\t\t\t<view slot=\"icon\" class=\"cuIcon-phone padding-right-sm text-red\"></view>\r\n\t\t\t\t\t\t</u-cell-item>\r\n\t\t\t\t\t\t<u-cell-item :arrow=\"false\" :center=\"true\" title=\"注册时间\" :value=\"wxuserInfo.regDate | dataFormat()\">\r\n\t\t\t\t\t\t\t<view slot=\"icon\" class=\"cuIcon-calendar padding-right-sm text-cyan\"></view>\r\n\t\t\t\t\t\t</u-cell-item>\r\n\r\n\t\t\t\t\t\t<u-cell-item :arrow=\"false\" :center=\"true\" title=\"上次登录\" :value=\" wxuserInfo.lastLoginDate | dataFormat()\">\r\n\t\t\t\t\t\t\t<view slot=\"icon\" class=\"cuIcon-calendar padding-right-sm text-blue\"></view>\r\n\t\t\t\t\t\t</u-cell-item>\r\n\r\n\t\t\t\t\t\t<u-cell-item :arrow=\"false\" :center=\"true\" title=\"权限\" value=\"超级管理员\" v-if=\"userInfo.level == 1\">\r\n\t\t\t\t\t\t\t<view slot=\"icon\" class=\"cuIcon-flashbuyfill padding-right-sm text-orange\"></view>\r\n\t\t\t\t\t\t</u-cell-item>\r\n\t\t\t\t\t\t<u-cell-item :arrow=\"false\" :center=\"true\" title=\"权限\" value=\"普通用户\" v-else>\r\n\t\t\t\t\t\t\t<view slot=\"icon\" class=\"cuIcon-flashbuyfill padding-right-sm text-orange\"></view>\r\n\t\t\t\t\t\t</u-cell-item>\r\n\t\t\t\t\t</u-cell-group>\r\n\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t<!-- 小菜单2 -->\r\n\t\t\t<view class=\"cu-list menu card-menu margin-top sm-border shadow-warp\">\r\n\r\n\t\t\t\t<view class=\"cu-item arrow\" @tap=\"exitLogin\">\r\n\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-exit text-mauve text-xl\"></text>\r\n\t\t\t\t\t\t<text class=\"text-gray\">退出登录</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"cu-item arrow\" @tap=\"clearStorage\">\r\n\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-delete text-yellow text-xl \"></text>\r\n\t\t\t\t\t\t<text class=\"text-gray\">清空缓存</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t<view class=\"cu-tag round bg-blue\">{{storageInfo.currentSize}}kb</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n<!-- \t\t\t<view class=\"cu-list card-menu  shadow\">\r\n\t\t\t\t<u-cell-group>\r\n\t\t\t\t\t<u-cell-item :arrow=\"true\" title=\"一键成为超级管理员(测试用)\" label=\"点击前请先实名注册\" @tap=\"beAdmin\">\r\n\t\t\t\t\t\t<u-icon slot=\"icon\" size=\"60\" name=\"warning\" color=\"#ff9900\"></u-icon>\r\n\t\t\t\t\t</u-cell-item>\r\n\t\t\t\t</u-cell-group>\r\n\r\n\t\t\t</view> -->\r\n\r\n\r\n\t\t\t<view class=\"cu-card \">\r\n\t\t\t\t<view class=\"cu-item shadow-blur bg-img bg-mask flex align-center\" style=\"background-image: url(http://mp-images.test.upcdn.net/%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C.jpg);height: 150upx;\">\r\n\t\t\t\t\t<navigator url=\"reference\" class=\"shadow-blur\">\r\n\t\t\t\t\t\t<view class=\"padding-left-xl padding-top-lg text-white\">\r\n\t\t\t\t\t\t\t<view class=\" text-xxl text-bold\">\r\n\t\t\t\t\t\t\t\t关于&使用手册\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\r\n\r\n\t\t\t<!-- \t\t\t\t<navigator  class=\"shadow-blur\">\r\n\t\t\t\t\t<view class=\"cu-card \" @tap=\"beAdmin\">\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"cu-item shadow-blur bg-img bg-mask flex align-center\" style=\"background-image: url(http://mp-images.test.upcdn.net/admin.jpg);height: 150upx;\">\r\n\t\t\t\t\t\t\t<view class=\"flex solid-bottom justify-between\">\r\n\t\t\t\t\t\t\t\t<view class=\"padding-left-xl padding-top-lg text-white\">\r\n\t\t\t\t\t\t\t\t\t<view class=\" text-xl text-bold padding-bottom-lg\">\r\n\t\t\t\t\t\t\t\t\t\t一键成为超级管理员(测试用)\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t</navigator> -->\r\n\r\n\r\n\r\n\r\n\t\t</view>\r\n\r\n\t</view>\r\n\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport moment from 'moment'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tregDate: null,\r\n\t\t\t\tshow: true,\r\n\t\t\t\tmodalName: null,\r\n\t\t\t\tgetWxUserInfoLoading: false,\r\n\t\t\t\t// 微信用户信息和实名用户信息\r\n\t\t\t\twxuserInfo: null,\r\n\t\t\t\tuserInfo: null,\r\n\t\t\t\t// 缓存信息\r\n\t\t\t\tstorageInfo: null,\r\n\t\t\t\t// request请求的结果\r\n\t\t\t\trequest_result: null,\r\n\t\t\t\t// 实名注册的数据\r\n\t\t\t\tcodeText: null,\r\n\t\t\t\tcodeSend: null,\r\n\t\t\t\tcode: null,\r\n\t\t\t\tphoneErrorMsg: \"\",\r\n\t\t\t\tform_code: null,\r\n\t\t\t\tform_password: null,\r\n\t\t\t\tform_phone: null,\r\n\t\t\t\tform_realName: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tvar that = this\r\n\t\t\tconsole.log(\"onShow()\")\r\n\t\t\tthat.wxuserInfo = uni.getStorageSync(\"wxuserInfo\")\r\n\t\t\tglobal.getUserInfo()\r\n\t\t\tthat.userInfo = uni.getStorageSync(\"userInfo\")\r\n\t\t\tconsole.log(\"that.userInfo\" + that.userInfo)\r\n\r\n\r\n\t\t\t// 获取缓存信息\r\n\t\t\tthat.getStorageInformation()\r\n\t\t},\r\n\t\tonShareAppMessage: function() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: \"我的\",\r\n\t\t\t\tpath: '/pages/profile/profile'\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t// 打开用户手册\r\n\t\t\topenRefe() {\r\n\r\n\t\t\t\tuni.openDocument({\r\n\t\t\t\t\tfilePath: 'https://example.com/somefile.pdf',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log('打开文档成功');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\t// 测试用:成为超级管理员\r\n\t\t\tbeAdmin() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif (that.userInfo == null) {\r\n\t\t\t\t\tthat.showToast(\"请先实名注册\", \"warning\", \"bottom\")\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"这是测试用，确定成为超级管理员吗\",\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: \"https://api.attendance.lifeisgg.online/MP/profile/test/beAdmin\",\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tuid: that.userInfo.uid\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\r\n\t\t\t\t\t\t\t\t\tthat.userInfo.level = 1\r\n\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"userInfo\", that.userInfo)\r\n\t\t\t\t\t\t\t\t\tthat.showToast(\"成为超级管理员成功\", \"success\", \"bottom\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t// 封装请求\r\n\t\t\trequest(e) {\r\n\t\t\t\tvar e = e\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: e.url,\r\n\t\t\t\t\tdata: e.data,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tthat.request_result = res.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// toast提示\r\n\t\t\tshowToast(title, type, position) {\r\n\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tposition: position,\r\n\t\t\t\t\tduration: 2500\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// modal隐藏唤醒\r\n\t\t\tshowModal(e) {\r\n\t\t\t\tthis.modalName = e.currentTarget.dataset.target\r\n\t\t\t},\r\n\t\t\thideModal(e) {\r\n\t\t\t\tthis.modalName = null\r\n\t\t\t},\r\n\r\n\r\n\r\n\t\t\t/* 登录退出方法*/\r\n\t\t\t// 点击登录按钮登录登录\r\n\t\t\tgetWxUserInfo: function(res) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif (!res.detail.iv) {\r\n\t\t\t\t\tthat.showToast('求求您授权吧', 'error', 'bottom')\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.getWxUserInfoloading = true\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tthat.wxuserInfo = res.detail.userInfo\r\n\t\t\t\tthat.switchMsg = true\r\n\t\t\t\tthat.wxuserInfo.switchMsg = true\r\n\r\n\t\t\t\t// 调用云函数获取openid\r\n\t\t\t\twx.cloud.callFunction({\r\n\t\t\t\t\tname: 'login',\r\n\t\t\t\t\tdata: {},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tconsole.log('[云函数] [login] user openid: ', res.result.openid)\r\n\t\t\t\t\t\tthat.wxuserInfo.openid = res.result.openid\r\n\r\n\t\t\t\t\t\t// 按钮登录请求后台返回实名信息\r\n\r\n\t\t\t\t\t\tconsole.log(\"请求前的wxuserinfo\" + that.wxuserInfo.openid)\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: \"https://api.attendance.lifeisgg.online/MP/public/login\",\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tnickName: that.wxuserInfo.nickName,\r\n\t\t\t\t\t\t\t\topenid: that.wxuserInfo.openid,\r\n\t\t\t\t\t\t\t\tavatarUrl: that.wxuserInfo.avatarUrl,\r\n\t\t\t\t\t\t\t\tisLogin: true\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\tthat.wxuserInfo.uid = res.data.wxuserInfo.uid\r\n\t\t\t\t\t\t\t\tthat.wxuserInfo.regDate = res.data.wxuserInfo.regDate\r\n\t\t\t\t\t\t\t\tthat.wxuserInfo.lastLoginDate = res.data.wxuserInfo.lastLoginDate\r\n\t\t\t\t\t\t\t\tthat.userInfo = res.data.userInfo\r\n\r\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"wxuserInfo\", that.wxuserInfo)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"userInfo\", that.userInfo)\r\n\t\t\t\t\t\t\t\tthat.getWxUserInfoloading = false\r\n\t\t\t\t\t\t\t\tthat.showToast('微信登录成功', 'success', 'bottom')\r\n\t\t\t\t\t\t\t\tthat.modalName = 'boundModal'\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\tconsole.error('[云函数] [login] 调用失败', err)\r\n\t\t\t\t\t\tthat.showToast('请检查网络', 'warning', 'bottom')\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\r\n\t\t\t},\r\n\t\t\t// 退出登录\r\n\t\t\texitLogin() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"确定要退出吗\",\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthat.showToast('退出成功', 'success', 'bottom')\r\n\t\t\t\t\t\t\tthat.wxuserInfo = null;\r\n\t\t\t\t\t\t\tthat.userInfo = null;\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"wxuserInfo\", null);\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"userInfo\", null);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 获取缓存\r\n\t\t\tgetStorageInformation() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.getStorageInfo({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.storageInfo = res\r\n\t\t\t\t\t\tconsole.log(\"keys:\" + res.keys);\r\n\t\t\t\t\t\tconsole.log(\"currentSize:\" + res.currentSize);\r\n\t\t\t\t\t\tconsole.log(\"limitSize:\" + res.limitSize);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 清空缓存\r\n\t\t\tclearStorage() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"清除缓存将会清除登录状态\",\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthat.wxuserInfo = null;\r\n\t\t\t\t\t\t\tuni.clearStorage()\r\n\t\t\t\t\t\t\tthat.getWxUserInfoLoading = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t/* 实名注册方法 */\r\n\t\t\t// 提示\r\n\t\t\tshowToast_realName(title, type, position) {\r\n\t\t\t\tthis.$refs.uToast_realName.show({\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tposition: position,\r\n\t\t\t\t\tduration: 2500\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcheckPhone() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tconsole.log(\"手机输入失去焦点\")\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: \"https://api.attendance.lifeisgg.online/MP/profile/checkExist\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tphone: that.form_phone\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.data.phone == null) {\r\n\t\t\t\t\t\t\tthat.phoneErrorMsg = \"电话号码已绑定\"\r\n\t\t\t\t\t\t\tthat.showToast_realName(\"电话号码已存在\", \"warning\", \"bottom\")\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.phoneErrorMsg = \"\"\r\n\t\t\t\t\t\t\tthat.showToast_realName(\"电话号码可用\", \"success\", \"bottom\")\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 验证码监听\r\n\t\t\tcodeChange(text) {\r\n\t\t\t\tthis.codeText = text;\r\n\t\t\t},\r\n\t\t\tgetCode() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tconsole.log(\"获取验证码\")\r\n\t\t\t\tif (that.$refs.uCode.canGetCode) {\r\n\t\t\t\t\t// 模拟向后端请求验证码\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '正在获取验证码'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tlet phone = that.form_phone\r\n\t\t\t\t\tconsole.log(\"电话\" + phone)\r\n\t\t\t\t\t// 向后端请求验证码\r\n\t\t\t\t\tvar codeChars = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\r\n\t\t\t\t\tvar code = \"\"\r\n\t\t\t\t\tfor (var i = 0; i < 6; i++) {\r\n\t\t\t\t\t\tvar id = Math.ceil(Math.random() * 9);\r\n\t\t\t\t\t\tcode += codeChars[id];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.codeSend = +code\r\n\t\t\t\t\tconsole.log(\"验证码为\" + that.codeSend)\r\n\t\t\t\t\twx.cloud.callFunction({\r\n\t\t\t\t\t\tname: 'sendSms',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t'phone': phone,\r\n\t\t\t\t\t\t\t'code': that.codeSend\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\tthat.showToast_realName('验证码已发送', 'success', 'bottom')\r\n\t\t\t\t\t\t\t\t// 通知验证码组件内部开始倒计时\r\n\t\t\t\t\t\t\t\tthis.$refs.uCode.start();\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\tconsole.error('[云函数] [login] 调用失败', err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.showToast_realName('请倒计时结束再重新发送', 'error', 'bottom')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\trealNameSubmit() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif(that.form_code == null || that.form_realName == null || that.form_phone == null){\r\n\t\t\t\t\tthat.showToast(\"请填写完整信息\",\"error\",\"bottom\")\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(that.checkPhone() == false){\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(that.form_code != that.codeSend){\r\n\t\t\t\t\t\t\tthat.showToast(\"您输入的验证码不正确\",\"error\",\"bottom\")\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: \"https://api.attendance.lifeisgg.online/MP/profile/realProfile\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\topenid: that.wxuserInfo.openid,\r\n\t\t\t\t\t\tphone: that.form_phone,\r\n\t\t\t\t\t\trealName: that.form_realName,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tthat.userInfo = res.data.userInfo\r\n\t\t\t\t\t\tuni.setStorageSync(\"userInfo\", that.userInfo)\r\n\t\t\t\t\t\tthat.hideModal()\r\n\t\t\t\t\t\tthat.showToast(\"实名认证成功\", \"success\", \"bottom\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 服务提醒通知开关\r\n\t\t\t// 按钮改变时\r\n\t\t\tSwitchSendMsg(e) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar switchMsg = e.detail.value\r\n\t\t\t\tthat.wxuserInfo.switchMsg = switchMsg\r\n\t\t\t\tconsole.log(\"that.wxuserInfo.switchMsg=\" + that.wxuserInfo.switchMsg)\r\n\t\t\t\tif (this.wxuserInfo.switchMsg == true) {\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twakeUpMsg() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif (that.wxuserInfo.switchMsg == true) {\r\n\t\t\t\t\twx.requestSubscribeMessage({\r\n\t\t\t\t\t\ttmplIds: [\r\n\t\t\t\t\t\t\t'jxm2u-gMXptrgJBsHOThe9-1L4Vw2dghG7J05FLEEKk',\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 请求发送打卡通知\r\n\t\t\tsendMsg: function(e) {\r\n\t\t\t\twx.requestSubscribeMessage({\r\n\t\t\t\t\ttmplIds: [\r\n\t\t\t\t\t\t'il9K_JqyWPEIKbIHaSMHMvRM3BYAMt_UC6gCVERpXjU',\r\n\t\t\t\t\t],\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tthat.showToast(\"打卡订阅消息开启成功\", \"success\", \"bottom\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}